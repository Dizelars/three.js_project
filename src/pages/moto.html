<!doctype html>
<html lang="ru" class="a-fullscreen">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- <meta name="robots" content="noindex,nofollow,noarchive">
    <meta name="yandex" content="noindex,nofollow,noarchive">
    <meta name="googlebot" content="noindex,nofollow,noarchive"> -->

    <meta name="yandex-verification" content="c74167eb0fd8f8fe" />
    <meta name="google-site-verification" content="0dZw6jM4sYdeu4GqW-DoUbESkEAaX7OuIC6deq1n5OQ" />

    <link rel="apple-touch-icon" sizes="180x180" href="https://garage-codd.ru/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://garage-codd.ru/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://garage-codd.ru/favicons/favicon-16x16.png">
    <link rel="manifest" href="https://garage-codd.ru/favicons/site.webmanifest">
    <link rel="mask-icon" href="https://garage-codd.ru/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#090909">
    <!--Primary Meta Tags-->
    <meta name="title" content="Мотопатруль"/>
    <meta name="description" content="Регулировка движения на&nbsp;затрудненных участках. Помощь при поломке или ДТП"/>
    <meta name="keywords" content="гараж, ЦОДД, AR, VR, дополненная реальность, иммерсивное погружение, модели, патруль, мотопатруль, мотоцикл"/>

    <!--Open Graph / Facebook-->
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://garage-codd.ru/"/>
    <meta property="og:title" content="Мотопатруль"/>
    <meta property="og:description" content="Регулировка движения на&nbsp;затрудненных участках. Помощь при поломке или ДТП"/>
    <meta property="og:image" content="https://garage-codd.ru/images/velo.png"/>

    <!--Twitter-->
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:url" content="https://garage-codd.ru/"/>
    <meta property="twitter:title" content="Мотопатруль"/>
    <meta property="twitter:description" content="Регулировка движения на&nbsp;затрудненных участках. Помощь при поломке или ДТП"/>
    <meta property="twitter:image" content="https://garage-codd.ru/images/velo.png"/>

    <!-- Yandex.Metrika counter -->
    <script async src="https://mc.yandex.ru/metrika/tag.js"></script>
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    
        ym(95985378, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/95985378" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->

    <title>Мотопатруль</title>
    <link rel="stylesheet" href="../style/style.css">
    <!-- С версией 8, работает тач на телефоне, но не работает на десктопе сенсор -->
    <!-- С версией 5.3.8 тач на десктопе работает. На счет телефона пока не понятно -->
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script> -->
    <script defer src="https://unpkg.com/swiper@5.3.8/js/swiper.min.js"></script>
</head>
<body>
<!-- <div class="BackToInnovation">
    <img class="innovation_img" src="https://coddmac.store/innovation/innovation.svg" alt="Инновационная столица">
    <p class="innovation_text">На главную</p>
</div> -->

<div class="progress-bar">
    <div class="progress-bar-container">
        <div class="image">
            <img class="no_animated" src="/src/img/layout/loader/logo.gif" alt="цодд">
        </div>
        <span id="progress-label">0%</span>
        <div id="hellopreloader_barWrapper">
            <progress id="progress-bar" value="0" max="100"></progress>
        </div>
        <label for="progress-bar" id="progress_text">Загружаем модель в высоком разрешении.<br>Пожалуйста, дождитесь завершения</label>
    </div>
</div>

<div class="header">
    <a class="header__logo" href="../index.html#traffic_patrol">
        <img class="header__logo-img" src="../img/layout/header_logo.svg" alt="logo">
        <p class="header__logo-text">Гараж ЦОДД</p>
    </a>
</div>

<div class="tech_spec active">
    <div class="tech_spec__wrapper hidden">
        <div class="tech_spec__description hidden">
            <div class="tech_spec__description-grid_wrapper hidden">
                <div class="tech_spec__titles hidden">
                    <div class="text_spec__texts">
                        <p class="tech_spec__title">Мотопатруль</p>
                    </div>
                </div>
                <div class="tech_spec__mission-panel hidden">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-2">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-3">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-4">
                    <p class="tech_spec__text">Задача</p>
                </div>
                <div class="tech_spec__mission hidden">
                    <p class="tech_spec__text-descr">Регулировка движения на&nbsp;затрудненных участках. Помощь при поломке или ДТП</p>
                </div>
                <div class="tech_spec__outfit-panel hidden">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-2">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-3">
                    <img src="../img/layout/pages/main/border_corner/corner.svg" alt="стрелки" class="corner-4">
                    <p class="tech_spec__text">Экипировка</p>
                </div>
                <div class="tech_spec__outfit hidden">
                    <ul class="tech_spec__outfit-list">
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_10.svg" alt="Дорожные конусы" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Дорожные конусы</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_4.svg" alt="Трос" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Трос</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_4.svg" alt="Насос" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Насос</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_2.svg" alt="Аптечка" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Аптечка</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_6.svg" alt="Пусковое устройство" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Пусковое устройство</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_7.svg" alt="Бланки европротокола" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Бланки европротокола</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_3.svg" alt="Курвиметр" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Курвиметр</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_3.svg" alt="Инструменты" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Инструменты</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/velo/outfit_velo_1.svg" alt="Вода" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Ремкомплект для колес</span>
                        </li>
                        <li class="tech_spec__outfit-item">
                            <div class="tech_spec__outfit-img">
                                <img src="../img/layout/outfit/amarok/outfit_amarok_1.svg" alt="Огнетушитель" fetchpriority="high">
                            </div>
                            <span class="tech_spec__outfit-text">Огнетушитель</span>
                        </li>
                    </ul>
                </div>
                <div class="tech_spec__button">
                    <a class="tech_spec__btn">
                        <span>Подробнее</span>
                        <img src="../img/layout/icon-arrow.svg" alt="icon-arrow" fetchpriority="high">
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="auto_park">
    <div class="container">
        <div class="auto_park_wrapper">
            <div class="auto_park__control">
                <p class="auto_park__title">Транспорт ЦОДД</p>
                <img class="rotate" src="../img/layout/auto_park_arrow.svg" alt="auto_park_btn">
            </div>
            <div class="auto_park_slider">
                <div class="auto_park_slider-overflow swiper_model">
                    <div class="auto_park_slider-wrapper swiper-wrapper">
                        <div class="gallery_item swiper-slide active">
                            <a class="gallery_item_link" href="#">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/moto.png" alt="moto" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="kamaz.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/kamaz.png" alt="kamaz" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="amarok.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/amarok.png" alt="amarok" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="ford.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/ford.png" alt="ford" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="bus.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/bus.png" alt="bus" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="kater.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/kater.png" alt="kater" fetchpriority="high">
                                </picture>
                                <img class="gallery_item-img" src="../img/layout/pages/main/slider/kater.png" alt="kater">
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="velo.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/velo.png" alt="velo" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="moskvich.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/moskvich.png" alt="moskvich" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                        <div class="gallery_item swiper-slide">
                            <a class="gallery_item_link" href="solaris.html">
                                <picture>
                                    <img class="gallery_item-img" src="../img/layout/pages/main/slider/solaris_gray.png" alt="solaris" fetchpriority="high">
                                </picture>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="auto_park_slider-button">
                    <button class="prev_button">
                        <img src="../img/layout/slider/icon-arrow.png" alt="arrow_prev" fetchpriority="high">
                    </button>
                    <button class="next_button">
                        <img src="../img/layout/slider/icon-arrow.png" alt="arrow_next" fetchpriority="high">
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="pulse_wrapper">
    <div class="pulse_media">
        <img class="pulse_img" src="../img/AR-cube.svg" alt="AR">
        <img class="pulse_img" src="../img/AR.svg" alt="AR">
    </div>
    <div class="pulse"></div>
</div>

<iframe id="9f0e8cf5-2302-46a3-8e49-0a7c4c3911d8" src="" width="100%" height="100%" class="VectaryIframe"></iframe>
<div id="overlay"></div>

<script type="module">
    let isModelLoaded = false;

    const LOADING_TIME = 50000;
    const PERCENT_STEP = 2;
    const COUNT_LOAD_TIME = LOADING_TIME / (100 / PERCENT_STEP);
    let percent = 0;
    let preloader = document.querySelector(".progress-bar");
    const percentEl = document.getElementById("progress-label");
    const barEl = document.getElementById("progress-bar");

    function fadeOutnojquery(el) {
        el.style.opacity = 1;
        let interhellopreloader = setInterval(function () {
            el.style.opacity = el.style.opacity - 0.05;

            if (el.style.opacity <= 0.05) {
                clearInterval(interhellopreloader);
                preloader.style.display = "none";
            }
        }, 16);
    }

    function countLoad() {
        barEl.style.width = "0%";
        percentEl.textContent = `0%`;
        barEl.style.transition = `width ${COUNT_LOAD_TIME / 4000}s linear`;

        let countInterval = setInterval(function () {
            percent += PERCENT_STEP;

            if ((percent > 96) && !isModelLoaded) {
                percent = 98;
            } else {
                if (percent > 100) {
                    percent = 100;
                }
            }

            percentEl.textContent = `${percent}%`;
            barEl.style.width = `${percent}%`;

            if (isModelLoaded) {
                clearInterval(countInterval);
                let acceleratedInterval = COUNT_LOAD_TIME / 0;
                countInterval = setInterval(function () {
                    percent += PERCENT_STEP;

                    if (percent > 100) {
                        percent = 100;
                    }

                    percentEl.textContent = `${percent}%`;
                    barEl.style.width = `${percent}%`;

                    if (percent === 100) {
                        setTimeout(function () {
                            fadeOutnojquery(preloader);
                        }, 500);
                        clearInterval(countInterval);
                    }
                }, acceleratedInterval);
            }
        }, COUNT_LOAD_TIME);
    }

    countLoad();

    function myLoading() {
        console.log('myLoading go!');
        setTimeout(() => {
            isModelLoaded = true;
            console.log('ModelLoaded');
        }, 10000);
    }

    const IframeObject = {
        AR_ON: 'https://app.vectary.com/p/20JQIwevUsATXy0FmMItB6',
        AR_OFF: 'https://app.vectary.com/p/5DCAXqY66WlQGA3Qzm4iPI',
    };

    let screenWidth = window.innerWidth;
    let readySRC;
    let ARButtonPulse = document.querySelector('.pulse_wrapper');

    if (screenWidth >= 700 && screenWidth <= 1200) {
        readySRC = IframeObject.AR_OFF;
        ARButtonPulse.style.display = 'none';
    } else if (screenWidth < 700) {
        readySRC = IframeObject.AR_ON;
    } else {
        readySRC = IframeObject.AR_ON;
    }

    document.addEventListener("DOMContentLoaded", () => {
        let VectaryIframe = document.querySelector('.VectaryIframe');
        VectaryIframe.src = readySRC;
        myLoading();
    });
</script>
</body>
</html>